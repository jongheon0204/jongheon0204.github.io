I"â)<h1 id="ë°±ì¤€-17281-ì•¼êµ¬">ë°±ì¤€ 17281 ì•¼êµ¬</h1>

<p><img width="100%" alt="baekjoon17281" src="https://user-images.githubusercontent.com/17156386/76721820-987e9d00-6784-11ea-9c6c-95a9a66994b9.png" />
<a href="https://www.acmicpc.net/problem/17281" target="_blank">[ë¬¸ì œ ë°”ë¡œê°€ê¸°]</a></p>

<p>ì„ ìˆ˜ë“¤ì˜ ê° ì´ë‹ì—ì„œëŠ¬ ê²°ê³¼ë¥¼ ë¯¸ë¦¬ ì•Œê³  ìˆì„ë•Œ ê°€ì¥ ë§ì€ ë“ì ì„ í•˜ëŠ” íƒ€ìˆœì„ ì°¾ëŠ” ë¬¸ì œì´ë‹¤.</p>

<ul>
  <li>ì´ë‹ ìˆ˜ëŠ” ìµœëŒ€50ë²ˆì´ë©° 1ë²ˆ ì„ ìˆ˜ëŠ” 4ë²ˆ íƒ€ìë¡œ ê³ ì •ì´ ë˜ì–´ ìˆë‹¤.</li>
  <li>ì™„ì „ íƒìƒ‰ì„ í†µí•´ í•œ íƒ€ìˆœì”© ê²€ì‚¬ë¥¼ í•˜ë©´ 8! ì •ë„ì˜ ì‹œê°„ì´ ê±¸ë¦¬ê³  ì´ëŠ” 1ì´ˆ ë‚´ì— í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤.</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#define vi vector&lt;int&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">vi</span><span class="o">&gt;</span> <span class="n">result</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">Game</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">batter</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">curM</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">out</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="c1">// íƒ€ìì„,1ë£¨,2ë£¨,3ë£¨ì— ì‚¬ëŒì´ ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€</span>
	<span class="kt">bool</span> <span class="n">isBatter</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nb">true</span><span class="p">};</span>
	<span class="c1">// í•œ ì´ë‹ì”© ì°¨ë¡€ëŒ€ë¡œ ê²€ì‚¬</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
		<span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">isBatter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="c1">// í˜„ì¬ íƒ€ìì— ìˆëŠ” ì„ ìˆ˜ì˜ ê²°ê³¼</span>
			<span class="kt">int</span> <span class="n">hit</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">batter</span><span class="p">[</span><span class="n">curM</span><span class="p">]];</span>
			<span class="n">curM</span> <span class="o">=</span> <span class="p">(</span><span class="n">curM</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="mi">9</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span><span class="n">hit</span><span class="p">){</span>
				<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span><span class="n">j</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">--</span><span class="p">){</span>
					<span class="k">if</span><span class="p">(</span><span class="n">isBatter</span><span class="p">[</span><span class="n">j</span><span class="p">]){</span>
						<span class="n">isBatter</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
						<span class="c1">// ë”í•´ì„œ 4ë¥¼ ë„˜ëŠ”ë‹¤ë©´ ì ìˆ˜ë¥¼ ë‚¸ ê²ƒ</span>
						<span class="k">if</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="n">hit</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">){</span><span class="n">score</span><span class="o">++</span><span class="p">;}</span>
						<span class="k">else</span> <span class="n">isBatter</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="n">hit</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>	
			<span class="p">}</span><span class="k">else</span><span class="p">{</span>
				<span class="n">out</span><span class="o">++</span><span class="p">;</span>
				<span class="c1">// ì•„ì›ƒ 3ë²ˆì´ë©´ í•œ ì´ë‹ì´ ì¢…ë£Œ</span>
				<span class="k">if</span><span class="p">(</span><span class="n">out</span> <span class="o">==</span> <span class="mi">3</span><span class="p">){</span>
					<span class="n">out</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
					<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="n">isBatter</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="c1">// í˜„ì¬ íƒ€ì„ìœ¼ë¡œ ë‚˜ì˜¨ ì ìˆ˜ì™€ ë¹„êµ</span>
	<span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">score</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
	<span class="n">ios_base</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span> <span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
	<span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="p">;</span>
	<span class="n">result</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vi</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">vi</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
			<span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">tmp</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">8</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">tmp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
	<span class="c1">// next_permutationì„ ì´ìš©í•˜ì—¬ í•œ íƒ€ìˆœì”© ê²€ì‚¬ë¥¼ í•œë‹¤.</span>
	<span class="k">do</span><span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">batter</span><span class="o">=</span><span class="n">tmp</span><span class="p">;</span>
		<span class="n">batter</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
		<span class="c1">// 1ë²ˆ ì„ ìˆ˜ëŠ” 4ë²ˆ íƒ€ìë¡œ ê³ ì •ì´ ë˜ì–´ ìˆë‹¤.</span>
		<span class="n">swap</span><span class="p">(</span><span class="n">batter</span><span class="p">.</span><span class="n">back</span><span class="p">(),</span><span class="n">batter</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
		<span class="n">Game</span><span class="p">(</span><span class="n">batter</span><span class="p">);</span>
	<span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="n">next_permutation</span><span class="p">(</span><span class="n">tmp</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">tmp</span><span class="p">.</span><span class="n">end</span><span class="p">()));</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">ans</span><span class="p">;</span>	
<span class="p">}</span>
</code></pre></div></div>
:ET